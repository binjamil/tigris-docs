import NextjsGuidesSection from "@site/src/components/NextjsGuidesSection";
import createNextAppOutput from "!!raw-loader!./_createNextAppOutput";
import runNextAppOutput from "!!raw-loader!./_runNextAppOutput";
import tigrisCreateAppOutput from "!!raw-loader!./_tigrisCreateAppOutput";
import CodeBlock from "@theme/CodeBlock";
import TerminalWindow from "@site/src/components/TerminalWindow/index";
import Installation from "../../includes/_install_cloud_login.mdx";
import runDevOutput from "!!raw-loader!./_runDevOutput";
import loginOutput from "!!raw-loader!./_loginOutput";

# Using Tigris with Next.js

Tigris is the scalable real-time backend for Next.js applications. Build
data-rich features, seamlessly implement search, and easily connect
serverless functions.

## Getting started

<Installation />

### Create Tigris Project

Every Tigris application is a project with a dedicated database and cloud crendentials. To create a Todo application, [Login/Signup](https://tigris-webconsole-develop.vercel.app/) to your Tigris console and create a new project.

![create-project-result-output](/img/gifs/create-project-output.gif)

> Your project name is automatically your database name. So you do not need to create a database


### Create the Tigris cloud credentials

Your application requires credentials to be able to use Tigris. To create Tigris cloud credentials for your application, click on `Todo > Application Keys > New Key`.

![create-project-crendentials-output](/img/gifs/create-project-credential-output.gif)

Then enter the details for your Application Keys in the input boxes and hit the Create button:

![create-token-output](/img/screenshots/create-project-keys.png)

Then your application `Client ID` and `Client Secret` will be generated.

![project-keys](/img/screenshots/project-keys.png)

> Keep those crendentials confidential, to avoid unauthorized access to your application.


### Scaffold your Next.js app

Tigris allows you to bootstrap Next.js apps using the Tigris CLI tool. 

```shell
npx @tigrisdata/create-tigris-app@beta
```

This will prompt for the project name. Enter `todo` and hit the Enter key. Then you will be prompted to pick the template for your project, select the `nextjs-api-routes` template and hit Enter key: 

<details>
  <summary>Output</summary>
  <TerminalWindow>
    <CodeBlock language="shell">{createNextAppOutput}</CodeBlock>
  </TerminalWindow>
</details>

## Add the Tigris cloud credentials
You need to add the Tigris crendentials you created to your application environment file for your project work and use Tigris. Copy the CLient ID and Client Secret you created and add them to the environment file.



Finally, navigate into the project directory and run the application:

```
cd todo
npm run dev
```

### Run

Run the app and see it automatically create your databases and collections

```shell
npm run dev
```

<details>
  <summary>Output</summary>
  <TerminalWindow>
    <CodeBlock language="shell">{runNextAppOutput}</CodeBlock>
  </TerminalWindow>
</details>

:tada: Your fullstack webapp is ready and accessible on `localhost:3000` in the browser.

## Guides

Here you will find a set of guides to help you easily build a dynamic data-rich
Next.js app with Tigris.

<NextjsGuidesSection className="two-cols" />
